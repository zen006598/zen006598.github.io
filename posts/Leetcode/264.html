<!DOCTYPE html>
<html lang="en">
  <head>
    <title>264. Ugly Number II</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="light dark" />

    <meta name="author" content="John Doe" />
    <meta name="description" content="Guide to emoji usage in Hugo" />
    <meta name="keywords" content="blog,developer,personal" />

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Emoji Support" />
    <meta name="twitter:description" content="Guide to emoji usage in Hugo" />

    <meta property="og:title" content="Emoji Support" />
    <meta property="og:description" content="Guide to emoji usage in Hugo" />
    <meta property="og:type" content="article" />
    <meta
      property="og:url"
      content="http://www.example.com/posts/emoji-support/"
    />
    <meta property="article:section" content="posts" />
    <meta
      property="article:published_time"
      content="2023-07-07T00:00:00+00:00"
    />
    <meta
      property="article:modified_time"
      content="2023-07-07T00:00:00+00:00"
    />
    <meta
      property="og:see_also"
      content="http://www.example.com/posts/markdown-syntax/"
    />
    <meta
      property="og:see_also"
      content="http://www.example.com/posts/rich-content/"
    />
    <meta
      property="og:see_also"
      content="http://www.example.com/posts/more-rich-content/"
    />
    <meta
      property="og:see_also"
      content="http://www.example.com/posts/math-typesetting/"
    />
    <meta
      property="og:see_also"
      content="http://www.example.com/posts/html-and-css-only-tabs/"
    />
    <meta
      property="og:see_also"
      content="http://www.example.com/posts/mermaid-support/"
    />

    <link rel="canonical" href="http://www.example.com/posts/emoji-support/" />

    <link
      rel="preload"
      href="/fonts/forkawesome-webfont.woff2?v=1.2.0"
      as="font"
      type="font/woff2"
      crossorigin
    />

    <link
      rel="stylesheet"
      href="/css/coder.min.5adbe72fc41dcfb852215b84695288939b6b606db73238bd3ee936469572fc9c.css"
      integrity="sha256-WtvnL8Qdz7hSIVuEaVKIk5trYG23Mji9Puk2RpVy/Jw="
      crossorigin="anonymous"
      media="screen"
    />

    <link
      rel="stylesheet"
      href="/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css"
      integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8="
      crossorigin="anonymous"
      media="screen"
    />

    <link
      rel="icon"
      type="image/svg+xml"
      href="/images/favicon.svg"
      sizes="any"
    />
    <link
      rel="icon"
      type="image/png"
      href="/images/favicon-32x32.png"
      sizes="32x32"
    />
    <link
      rel="icon"
      type="image/png"
      href="/images/favicon-16x16.png"
      sizes="16x16"
    />

    <link rel="apple-touch-icon" href="/images/apple-touch-icon.png" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/images/apple-touch-icon.png"
    />

    <link rel="manifest" href="/site.webmanifest" />
    <link
      rel="mask-icon"
      href="/images/safari-pinned-tab.svg"
      color="#5bbad5"
    />
    <link
      rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-okaidia.min.css"
      rel="stylesheet"
    />
  </head>

  <body class="preload-transitions colorscheme-auto">
    <div class="float-container">
      <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
      </a>
    </div>

    <main class="wrapper">
      <nav class="navigation">
        <section class="container">
          <a class="navigation-title" href="/"> JUNG WEI怕忘記放一下 </a>

          <input type="checkbox" id="menu-toggle" />
          <label class="menu-button float-right" for="menu-toggle">
            <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
          </label>
          <ul class="navigation-list">
            <li class="navigation-item">
              <a class="navigation-link" href="/posts/">Blog</a>
            </li>

            <li class="navigation-item">
              <a class="navigation-link" href="/projects/">Projects</a>
            </li>
          </ul>
        </section>
      </nav>

      <div class="content">
        <section class="container post">
          <article>
            <header>
              <div class="post-title">
                <h1 class="title">
                  <a
                    href="https://leetcode.com/problems/ugly-number-ii/description/"
                  >
                    264. Ugly Number II
                  </a>
                </h1>
              </div>
              <div class="post-meta">
                <div class="date">
                  <span class="posted-on">
                    <i class="fa fa-calendar" aria-hidden="true"></i>
                    <time> March 22, 2024</time>
                  </span>
                </div>

                <div class="categories">
                  <i class="fa fa-folder" aria-hidden="true"></i>
                </div>
              </div>
            </header>

            <div class="post-content">
              <section>
                <h2>描述：</h2>
                <p>
                  An ugly number is a positive integer whose prime factors are
                  limited to 2, 3, and 5. Given an integer n, return the nth
                  ugly number.
                </p>
                <p>
                  給一<code>n</code>，回傳第<code>n</code>個醜陋數(Ugly number)
                </p>
                <p>
                  一個正整數的質因數<strong>只包含 2、3 或 5</strong>
                  的話為醜陋數(Ugly number)
                </p>
                <p>例如：</p>
                <code>2, 10 => 只包含 2 或 5為醜陋數</code><br />
                <code>14 => 包含 2 與 7 不為醜陋數</code>
              </section>
              <section>
                <h2>範例：</h2>
                <pre><code class="lang-css">Example 1: 
Input: n = 10 
Output: 12 
Explanation: [1, 2, 3, 4, 5, 6, 8, 9, 10, 12] 
is the sequence of the first 10 ugly numbers.</code></pre>
              </section>
              <section>
                <h3>第一次解</h3>
                <p>
                  想法：暴力解從 1 開始檢查，只包含 2、3、5 的倍數，就是醜陋數
                </p>
                <ol>
                  <li>迭代從1到無限大</li>
                  <li>
                    判斷<code>number</code>是不是備<code>2, 3, 5</code
                    >整除，如被整除在做迭代，不斷移除因數直到不被整除，再往下一段移除因數
                  </li>
                  <li>
                    當<code>number</code>移除所有<code>2, 3, 5</code
                    >因數結果為1級為醜陋數，將<code>resultCounting</code>加1
                  </li>
                  <li>
                    當<code>resultCounting</code>達到目標<code>n</code>回傳最後一次迭代的數字。
                  </li>
                </ol>
                <p>
                  前面的數字較小對效能感受不大，當數字到後面，要不斷在<code
                    >while loop</code
                  >中迭代計算，效能太亂慢了。為解決效能問題使用動態
                </p>
                <pre><code class="lang-csharp">
public class Solution {
    public int NthUglyNumber(int n) {
      int resultCounting = 0;
      int result = 0;

      for (int i = 1; i < int.MaxValue; i++) {
          int number = i;

          while (number % 2 == 0) number /= 2;
          while (number % 3 == 0) number /= 3;
          while (number % 5 == 0) number /= 5;
          
          if (number == 1) { 
              resultCounting++;
              result = i;
          }
          
          if (resultCounting == n) break;
      }
      return result;
    }
}</code></pre>
              </section>

              <section>
                <h3>第二次解</h3>
                <p>使用動態規劃(Dynamic Programming)</p>
                <ol>
                  <li>先初始長度為<code>n</code>的陣列</li>
                  <li>初始3個<code>index</code>分別表示2, 3, 5的倍數</li>
                  <li>
                    以<code>i</code>作為基數，用3個index做計算取三的乘績的最小值作為下一個醜陋數
                  </li>
                  <li>
                    將最小值放入<code>ugly[i]</code>並判斷<code>ugly[i]</code>是由哪一個<code>index</code>計算，將此<code>index</code>加1
                  </li>
                  <li>直到陣列達到目標<code>n</code>回傳最後的值</li>
                </ol>
                <pre class=""><code class="lang-csharp">
  public int NthUglyNumber(int n) {
      public class Solution {
        int[] ugly = new int[n];
        ugly[0] = 1;
        int index2 = 0, index3 = 0, index5 = 0;

        for(int i = 1; i < n; i++) {
            ugly[i] = Math.Min(Math.Min(ugly[index2] * 2, ugly[index3] * 3), ugly[index5] * 5);
            if (ugly[i] == ugly[index2] * 2) index2++;
            if (ugly[i] == ugly[index3] * 3) index3++;
            if (ugly[i] == ugly[index5] * 5) index5++;
        }
        return ugly[n-1];
      }
}</code></pre>
              </section>
            </div>
          </article>
        </section>
      </div>
    </main>

    <script
      src="/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js"
      integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="
    ></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-csharp.min.js"></script>
  </body>
</html>
